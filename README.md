# Nimbus Network #

The nimbus network is powered by a currency called filecoin.

## Filecoin ##

Filecoin is a proof-of-contribution cryptocurrency, where coins and blocks generated by contributing disk space and bandwidth to the nimbus network, as opposed to the bitcoin model of solving hashcash puzzles. Nodes position themselves on a DHT. Nodes contriubting more resources are responsible for larger portions of the DHT keyspace.

A hash of the previous block yields a key value for the next block. The node that is closest to the next block 'wins' that block. The bitcoin parallel is a node 'winning' by computing the hashcash that fulfills the current requirements.

The block chain tracks the current status of all wallets. Each block contains a list of deltas from the previous block. In bitcoin, the deltas are merely transactions. In filecoin, the blockchain contains a network summary of every file hosted on nimbus. Each file is represented by its hash, which then leads to the node on the DHT that is responsible for tracking the file.

Each individual block contains a list of 'proposed' transactions, which can either be claimed by a reciever or announced by a sender. This is because filecoin has conditional spending. Conditions will usually be used for keeping files on the network, but can also be used to reimburse. In the event that a sender sets up a condtion for a transaction, it is up to the reciever to notify the network that the condition has been fulfilled. The network will then confirm that the transaction is legitmate and complete the job.

All transactions that are not double spends must be confirmed into the network. If it has a valid signiture from the sending wallet, the transaction must be accepted and included in the block chain. Double spends are resolved by picking the transaction that was sent to the wallet with the key closet to the hash of the previous block.

## Nimbus ##

Files are put onto the network via conditional spending. This is because the cost of a file will vary with time (cost is determined every block), and blocks can be set to different values of security and speed. If the cost goes up, conditionals can be in place to automatically reduce the speed or security of the file.

When a file is uploaded to nimbus, a .nimbus meta-file is created, which contains information about the file and where it is stored, as well as information about which wallet is paying for the file, the conditions under which the file is being hosted, and finally a signiture from the wallet confirming payment.

### Issues ###

I don't fully know how to prevent cheating in terms of bandwidth and disk space. The best heuristic I have is to make sure that any cheating hurts the cheater and has no direct benefits. Sybil attacks are a moderate concern.

I have no idea how to confirm a bandwidth speed.

Cryptography can be used to insure that a node has a file, but one could also cheat in the following way:

1. algorithmically generate a large file
2. keep generating the file until the hash of the file places it on a cheating node
3. cheating node will always be able to confirm that it has the data, as the data is generated algorithmically
4. cheating node gets payed for hosting exabytes of data, despite not actually contributing to the network

I think that you could defend against this attack by implementing load balancing algorithms. If a node claims to have exabytes of data, it's going to get a lion's share of the network data in it's zone. Having a single obnoxious-sized file in that space will be accounted for by spreading the large file evenly to neighbors. The node will still be expected to handle exabytes of other data.

I want to charge for bandwidth and connection speed, but I'm not sure how to measure that in a secure way. I'm also not sure how to confirm that a download has happened. What if a user pays for a download and the node takes the money without ever giving the user the data? What if the node gives the user the data but the user claims that the data was not given? I don't yet know how to settle these disputes.

